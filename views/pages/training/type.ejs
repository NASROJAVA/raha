<!-- Additional head content for this page -->

<div class="mb-6">
  <div class="flex items-center">
    <a href="/training" class="text-primary hover:text-primary-dark mr-4">
      <i class="fas fa-arrow-right"></i> العودة إلى المواد التدريبية
    </a>
  </div>
</div>

<div class="mb-6">
  <h1 class="text-3xl font-bold text-gray-800 mb-2"><%= contentTypeArabic %></h1>
  <p class="text-gray-600">تصفح <%= contentTypeArabic %> المتاحة في منصة راحة</p>
</div>

<!-- Search Bar -->
<div class="mb-8">
  <form action="/training/search" method="GET" class="flex">
    <input type="text" name="query" placeholder="ابحث عن مواد تدريبية..." class="flex-grow px-4 py-2 border border-gray-300 rounded-r-md focus:ring-primary focus:border-primary" required>
    <button type="submit" class="px-4 py-2 bg-primary text-white rounded-l-md hover:bg-primary-dark">بحث</button>
  </form>
</div>

<!-- Content Type Filters -->
<div class="mb-8">
  <h2 class="text-xl font-semibold text-gray-800 mb-4">تصفح حسب النوع</h2>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <% 
      // Map content types to Arabic labels
      const contentTypeLabels = {
        'article': 'مقالات',
        'video': 'فيديوهات',
        'audio': 'صوتيات',
        'document': 'مستندات'
      };
    %>
    
    <% contentTypes.forEach(type => { %>
      <a href="/training/type/<%= type %>" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition text-center <%= type === contentType ? 'ring-2 ring-primary' : '' %>">
        <div class="text-3xl text-primary mb-2">
          <i class="fas fa-<%= type === 'article' ? 'newspaper' : type === 'video' ? 'video' : type === 'audio' ? 'headphones' : 'file-alt' %>"></i>
        </div>
        <span class="font-medium"><%= contentTypeLabels[type] %></span>
      </a>
    <% }); %>
  </div>
</div>

<!-- Materials by Type -->
<div>
  <h2 class="text-xl font-semibold text-gray-800 mb-4"><%= contentTypeArabic %></h2>
  
  <% if (materials && materials.length > 0) { %>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% 
        // Map content types to icons
        const contentTypeIcons = {
          'article': 'fas fa-newspaper',
          'video': 'fas fa-video',
          'audio': 'fas fa-headphones',
          'document': 'fas fa-file-alt'
        };
        
        // Map content types to Arabic labels for items
        const contentTypeItemLabels = {
          'article': 'مقال',
          'video': 'فيديو',
          'audio': 'صوتي',
          'document': 'مستند'
        };
      %>
      
      <% materials.forEach(material => { %>
        <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition">
          <div class="p-4">
            <div class="flex items-center text-sm text-gray-500 mb-2">
              <i class="<%= contentTypeIcons[material.content_type] %> mr-2"></i>
              <span><%= contentTypeItemLabels[material.content_type] %></span>
            </div>
            <h3 class="text-lg font-semibold mb-2"><%= material.title %></h3>
            <p class="text-gray-600 text-sm mb-4"><%= material.description.length > 100 ? material.description.substring(0, 100) + '...' : material.description %></p>
            <a href="/training/<%= material.id %>" class="text-primary hover:text-primary-dark font-medium">قراءة المزيد</a>
          </div>
        </div>
      <% }); %>
    </div>
  <% } else { %>
    <div class="text-center py-8 bg-white rounded-lg shadow-md">
      <p class="text-gray-500">لا توجد <%= contentTypeArabic %> متاحة حالياً</p>
    </div>
  <% } %>
</div>

<!-- Font Awesome for icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
